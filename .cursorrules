# SE Training プロジェクト共通ルール

このプロジェクトでは、以下のルールに従ってください。

## ドキュメントの配置

- **すべてのマークダウンファイル（.md）は `docs/` ディレクトリ配下に配置してください**
- 既存のドキュメント構造を尊重し、適切なサブディレクトリに配置してください
  - デプロイメント関連: `docs/deployment/`
  - モバイル関連: `mobile/docs/`
  - その他のドキュメント: `docs/`

## プロジェクト構造

- バックエンド: `app/` ディレクトリ（FastAPI）
- フロントエンド: `mobile/` ディレクトリ（React Native/Expo）
- 問題定義: `problems/` ディレクトリ（JSON形式）
- ドキュメント: `docs/` ディレクトリ

## コーディング規約

詳細なルールは `docs/PROJECT_RULES.md` を参照してください。

## 技術スタック

- **バックエンド**: Python 3.12+, FastAPI
- **フロントエンド**: React Native (Expo), TypeScript
- **コード実行**: Python (pytest), TypeScript (tsx)

## 重要事項

- 新しい機能を追加する際は、既存のアーキテクチャパターンに従ってください
- 型安全性を重視してください（Pydantic、TypeScript）
- ドキュメントを更新する際は、`docs/` 配下の適切な場所に配置してください
- 主要なソースにはすべてコメントを記載してください

## 実装ルール（重要）

### ハードコード禁止（原則例外なし）

- **業務ロジックの分岐にマジックナンバー/固定ID/固定文字列を使わない**
  - 例: `if (course.id === 3)`, `if course.id == 1` のような分岐は禁止
- **DBの情報 or 設定値で駆動**する
  - 例: `course_type` / `is_free` / `feature_flags` / `route_type` などのフィールドを追加して分岐する
- **例外**（業務ロジックではないもののみ許容）
  - UIのスタイル値（paddingなど）
  - テスト用の固定値（testIDなど）
  - プロトコル/規格で固定の値（HTTPメソッドなど）

### 点検の観点

- `== 1` / `=== 2` / `id == 3` などの分岐が入っていないかを必ず検索してからマージする

## UI/UX規約

- **Alert.alert()の使用禁止**: React Nativeの`Alert.alert()`は使用しないでください
- エラーメッセージや確認ダイアログは、以下のコンポーネントを使用してください：
  - `ErrorMessageModal`: エラーメッセージ表示用
  - `ConfirmModal`: 確認ダイアログ用
- インラインでメッセージを表示する場合は、画面内にメッセージ表示領域を設けてください

