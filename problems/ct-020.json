{
  "id": "ct-020",
  "title": "葉ノードの合計",
  "difficulty": "easy",
  "category": ["tree", "dfs"],
  "time_limit_sec": 1.0,
  "memory_limit_mb": 256,
  "description": "# 葉ノードの合計\n\n## 問題概要\n\n二分木が与えられます。葉（子を持たないノード）の値の合計を求めてください。\n\n## 入力仕様\n\n- `root`: 二分木のルートノード。各ノードは以下のプロパティを持つ\n  - `val`: ノードの値（整数）\n  - `left`: 左の子ノード（ノードまたは `null`）\n  - `right`: 右の子ノード（ノードまたは `null`）\n\n## 出力仕様\n\n- `int`: すべての葉ノードの値の合計\n\n## 制約条件\n\n- ノード数は 1 以上 1000 以下\n- `-10^4 <= val <= 10^4`\n\n## サンプル入力・出力\n\n### サンプル1\n\n入力:\n```\n        7\n      /   \\\n     2     5\n    / \\     \\\n   1   4     3\n```\n\n出力:\n```\n8  # 葉ノード: 1, 4, 3 → 1+4+3=8\n```",
  "function_signature": "def solve(root) -> int:",
  "test_code": "class TreeNode:\n    def __init__(self, val=0, left=None, right=None):\n        self.val = val\n        self.left = left\n        self.right = right\n\ndef test_sample1():\n    #        7\n    #      /   \\\n    #     2     5\n    #    / \\     \\\n    #   1   4     3\n    root = TreeNode(7)\n    root.left = TreeNode(2)\n    root.right = TreeNode(5)\n    root.left.left = TreeNode(1)\n    root.left.right = TreeNode(4)\n    root.right.right = TreeNode(3)\n    result = solve(root)\n    # 葉ノード: 1, 4, 3 → 合計=8\n    assert result == 8\n\ndef test_single_node():\n    root = TreeNode(5)\n    # 葉ノード: 5\n    assert solve(root) == 5\n\ndef test_two_levels():\n    root = TreeNode(1)\n    root.left = TreeNode(2)\n    root.right = TreeNode(3)\n    # 葉ノード: 2, 3 → 合計=5\n    assert solve(root) == 5",
  "supported_languages": ["python", "typescript"],
  "hint": "## ヒント\n\n- 葉ノード（子を持たないノード）を識別する必要があります\n- DFSを使って木を探索し、葉ノードの値を合計します\n- ノードが `left` と `right` の両方が `None` の場合、そのノードは葉ノードです\n- 再帰関数で、葉ノードの値のみを合計に加えます",
  "solution": "## 答えと解説\n\nこの問題は、二分木の葉ノード（子を持たないノード）の値の合計を求める問題です。\n\n### アプローチ\n\nDFS（深さ優先探索）を使って、木を探索します。各ノードについて、葉ノードかどうかを判定し、葉ノードの場合のみその値を合計に加えます。\n\n### 実装コード\n\n```python\ndef solve(root) -> int:\n    if root is None:\n        return 0\n    \n    # 葉ノードの場合、その値を返す\n    if root.left is None and root.right is None:\n        return root.val\n    \n    # 左右の子ノードから返ってきた値を合計\n    return solve(root.left) + solve(root.right)\n```\n\n### 動作例\n\nサンプル1の場合：\n```\n        7\n      /   \\\n     2     5\n    / \\     \\\n   1   4     3\n```\n\n- 葉ノード: 1, 4, 3\n- 合計: 1+4+3=8\n\n### 時間計算量\n\n- O(N): Nはノード数。各ノードを1回ずつ訪問します。\n\n### 空間計算量\n\n- O(H): Hは木の高さ。再帰のスタックが高さ分必要です。"
}


