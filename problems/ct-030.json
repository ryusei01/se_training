{
  "id": "ct-030",
  "title": "依存関係の解決順",
  "difficulty": "hard",
  "category": ["graph", "topological-sort"],
  "time_limit_sec": 2.0,
  "memory_limit_mb": 512,
  "description": "# 依存関係の解決順\n\n## 問題概要\n\n依存関係が与えられます。指定されたノードを実行するための正しい実行順を1つ出力してください。\n\n## 入力仕様\n\n- `dependencies`: 依存関係のリスト。各要素は `(dependent, dependency)` のタプルで、`dependent` が `dependency` に依存することを表す\n- `target`: 実行対象のノード（文字列）\n\n## 出力仕様\n\n- `list[str]`: 実行順序（依存関係を満たす順序、複数解があってもよい）\n\n## 制約条件\n\n- `1 <= len(dependencies) <= 10^5`\n- 依存関係はDAG（有向非巡回グラフ）を形成する\n- すべてのノード名は文字列\n\n## サンプル入力・出力\n\n### サンプル1\n\n入力:\n```python\ndependencies = [\n    (\"A\", \"B\"),\n    (\"A\", \"C\"),\n    (\"B\", \"D\")\n]\ntarget = \"A\"\n```\n\n出力:\n```python\n[\"D\", \"B\", \"C\", \"A\"]  # または [\"D\", \"C\", \"B\", \"A\"] など\n```",
  "function_signature": "def solve(dependencies: list[tuple[str, str]], target: str) -> list[str]:",
  "test_code": "def test_sample1():\n    deps = [(\"A\", \"B\"), (\"A\", \"C\"), (\"B\", \"D\")]\n    result = solve(deps, \"A\")\n    assert \"A\" in result\n    assert \"B\" in result\n    assert \"C\" in result\n    assert \"D\" in result\n    # 順序チェック: D が B より前、B と C が A より前\n    assert result.index(\"D\") < result.index(\"B\")\n    assert result.index(\"B\") < result.index(\"A\")\n    assert result.index(\"C\") < result.index(\"A\")\n\ndef test_single_node():\n    result = solve([], \"A\")\n    assert result == [\"A\"]\n\ndef test_chain():\n    deps = [(\"A\", \"B\"), (\"B\", \"C\")]\n    result = solve(deps, \"A\")\n    assert result == [\"C\", \"B\", \"A\"]",
  "supported_languages": ["python", "typescript"]
}

